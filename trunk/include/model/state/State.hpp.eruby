
#include "all_fwd.hpp"
#include <boost/tr1/tr1/memory>

<% header_guard do %>

namespace psc{ namespace model{ namespace state{

class State: public std::tr1::enable_shared_from_this<State>{
public:
    State(wpCube owner): owner_(owner){}

	virtual ~State(){}
    virtual pState cycle() = 0;

protected:
    pMap map();
    pMap const map() const;
    pCube const owner() const{ return owner_.lock(); }

private:
    wpCube owner_;
};

}}} // end of namespace

<% end %>
